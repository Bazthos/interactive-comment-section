(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(0),m=n.n(a),o=n(5),c=n.n(o),i=n(3),l=n(1),r=n(2),s=function(e){var t=e.user,n=e.replying,a=e.setReplying,o=e.deleteComment,c=e.editing,i=e.setEditing;return"juliusomo"===t?m.a.createElement("div",{className:"comment-buttons"},m.a.createElement("button",{className:"delete",onClick:function(){o()}},m.a.createElement("img",{src:"/images/icon-delete.svg",alt:"Delete icon"}),"Delete"),m.a.createElement("button",{className:c?"clicked":"",onClick:function(){i(!c)}},m.a.createElement("img",{src:"/images/icon-edit.svg",alt:"Edit icon"}),"Edit")):m.a.createElement("div",{className:"comment-buttons"},m.a.createElement("button",{className:n?"clicked":"",onClick:function(){a()}},m.a.createElement("img",{src:"/images/icon-reply.svg",className:"reply",alt:"Reply icon"}),"Reply"))},u=function(e){var t=new Date(e),n=(new Date-t)/1e3;return n>=60&&n<3600?(n/=60,(n=Math.round(n))>1?n+" mins ago":n+" min ago"):n>=3600&&n<86400?(n/=3600,(n=Math.round(n))>1?n+" hours ago":n+" hour ago"):n>=86400&&n<604800?(n/=86400,(n=Math.round(n))>1?n+" days ago":n+" day ago"):n>=604800&&n<2592e3?(n/=604800,(n=Math.round(n))>1?n+" weeks ago":n+" week ago"):n>=2592e3?(n/=2592e3,(n=Math.round(n))>1?n+" months ago":n+" month ago"):(n=Math.round(n))>1?n+" secondes ago":n+" seconde ago"},d=function(e){var t=e.commentData,n=e.replying,a=e.setReplying,o=e.deleteComment,c=e.editing,i=e.setEditing;return"juliusomo"===t.user.username?m.a.createElement("div",{className:"comment-header"},m.a.createElement("div",{className:"comment-info"},m.a.createElement("img",{src:"/interactive-comment-section"+t.user.image.png,alt:"User"}),m.a.createElement("h4",null,t.user.username),m.a.createElement("span",null,"you"),m.a.createElement("p",null,u(t.createdAt))),m.a.createElement(s,{user:t.user.username,replying:n,setReplying:a,deleteComment:o,editing:c,setEditing:i})):m.a.createElement("div",{className:"comment-header"},m.a.createElement("div",{className:"comment-info"},m.a.createElement("img",{src:"/interactive-comment-section"+t.user.image.png,alt:"User"}),m.a.createElement("h4",null,t.user.username),m.a.createElement("p",null,u(t.createdAt))),m.a.createElement(s,{user:t.user.username,replying:n,setReplying:a}))},E=function(e){var t=e.vote,n=e.setVote,a=e.updateScore,o=e.id,c=e.type,i=e.voted;return m.a.createElement("div",{className:"votes"},m.a.createElement("button",{className:i.plus?"clicked":"",type:"button",onClick:function(){if(i.plus||i.minus){if(i.plus&&!i.minus){var e=t-1;n(e),a(e,o,c)}else if(!i.plus&&i.minus){var m=t+2;n(m),a(m,o,c)}}else{var l=t+1;n(l),a(l,o,c)}}},m.a.createElement("img",{src:"/images/icon-plus.svg",alt:"Plus"})),m.a.createElement("p",null,t),m.a.createElement("button",{className:i.minus?"clicked minus":"minus",type:"button",onClick:function(){if(i.plus||i.minus){if(!i.plus&&i.minus){var e=t+1;n(e),a(e,o,c)}else if(i.plus&&!i.minus){var m=t-2;n(m),a(m,o,c)}}else{var l=t-1;n(l),a(l,o,c)}}},m.a.createElement("img",{src:"/images/icon-minus.svg",alt:"Minus"})))},p=function(e){var t=e.commentData,n=e.editing,o=e.setEditing,c=e.editComment,i=Object(a.useState)(t.content),r=Object(l.a)(i,2),s=r[0],u=r[1];return n?m.a.createElement("div",{className:"edit"},m.a.createElement("textarea",{value:s,onChange:function(e){return u(e.target.value)}}),m.a.createElement("button",{className:"edit-btn",onClick:function(){o(!1),c(s,t.id)}},"UPDATE")):m.a.createElement("p",{className:"comment-footer"},m.a.createElement("span",null,void 0!==t.replyingTo?"@"+t.replyingTo+" ":""),t.content)},v=function(e){var t=e.addComment,n=e.replyingTo,o=e.setReplying,c=Object(a.useState)(n?"@"+n+" ":""),i=Object(l.a)(c,2),s=i[0],u=i[1],d=r.currentUser,E=function(){if(""!==s&&" "!==s)if(s!=="@"+n+" "&&s!=="@"+n+"  "){var e={id:Math.random(),createdAt:(new Date).toString(),content:s.replace(n?"@"+n+" ":"",""),score:0,voted:{plus:!1,minus:!1},user:d,replyingTo:n,replies:[]};t(e),u(""),void 0!==o&&o()}else o()};return m.a.createElement("div",{className:"add-comment comment-container"},m.a.createElement("img",{src:"/interactive-comment-section"+d.image.png,alt:"Current user"}),m.a.createElement("textarea",{name:"Add-Comment",placeholder:"Add a comment...",value:s,onChange:function(e){return u(e.target.value)}}),n?m.a.createElement("button",{className:"reply-btn",type:"button",onClick:E},"REPLY"):m.a.createElement("button",{type:"button",onClick:E},"SEND"))},g=function(e){var t=e.commentData,n=e.id,o=e.updateScore,c=e.addComment,i=e.deleteComment,r=e.editComment,s=Object(a.useState)(t.score),u=Object(l.a)(s,2),g=u[0],b=u[1],y=Object(a.useState)(!1),f=Object(l.a)(y,2),C=f[0],h=f[1],N=Object(a.useState)(!1),w=Object(l.a)(N,2),k=w[0],S=w[1],D=Object(a.useState)(!1),j=Object(l.a)(D,2),O=j[0],T=j[1],A=function(e,t,n){o(e,t,n)},R=function(){h(!C)},L=function(){T(!0)},I=function(){T(!1)},M=function(){i(n,"reply")};return!1===C?m.a.createElement("div",{className:"comment-container"},m.a.createElement(E,{vote:g,setVote:b,updateScore:A,id:n,type:"reply",voted:t.voted}),m.a.createElement("div",{className:"content"},m.a.createElement(d,{replying:C,setReplying:R,commentData:t,deleteComment:L,editing:k,setEditing:S}),O&&m.a.createElement("div",{id:"cache",onClick:I},m.a.createElement("div",{className:"delete-modal"},m.a.createElement("h2",null,"Delete comment"),m.a.createElement("p",null,"Are you sure you want to delete this comment ? This will remove the comment and can't be undone."),m.a.createElement("div",null,m.a.createElement("button",{onClick:I},"NO, CANCEL"),m.a.createElement("button",{className:"delete-btn",onClick:M},"YES, DELETE")))),m.a.createElement(p,{commentData:t,editing:k,setEditing:S,editComment:r}))):m.a.createElement("div",{className:"comment-w-replies"},m.a.createElement("div",{className:"comment-container"},m.a.createElement(E,{vote:g,setVote:b,updateScore:A,id:n,type:"reply",voted:t.voted}),m.a.createElement("div",{className:"content"},m.a.createElement(d,{replying:C,setReplying:R,commentData:t,deleteComment:L,editing:k,setEditing:S}),O&&m.a.createElement("div",{id:"cache",onClick:I},m.a.createElement("div",{className:"delete-modal"},m.a.createElement("h2",null,"Delete comment"),m.a.createElement("p",null,"Are you sure you want to delete this comment ? This will remove the comment and can't be undone."),m.a.createElement("div",null,m.a.createElement("button",{onClick:I},"NO, CANCEL"),m.a.createElement("button",{className:"delete-btn",onClick:M},"YES, DELETE")))),m.a.createElement(p,{commentData:t,editing:k,setEditing:S,editComment:r}))),m.a.createElement(v,{addComment:c,replyingTo:t.user.username,setReplying:function(){h(!C)}}))},b=function(e){var t=e.commentData,n=e.updateScore,a=e.addComment,o=e.deleteComment,c=e.editComment,i=function(e,t,a){n(e,t,a)};return m.a.createElement("div",{className:"reply-container"},t.map(function(e){return m.a.createElement(g,{key:e.id,commentData:e,id:e.id,updateScore:i,addComment:a,deleteComment:o,editComment:c})}))},y=function(e){var t=e.commentData,n=e.updateScore,o=e.addComment,c=e.deleteComment,i=e.editComment,r=Object(a.useState)(t.score),s=Object(l.a)(r,2),u=s[0],g=s[1],y=Object(a.useState)(!1),f=Object(l.a)(y,2),C=f[0],h=f[1],N=Object(a.useState)(!1),w=Object(l.a)(N,2),k=w[0],S=w[1],D=Object(a.useState)(!1),j=Object(l.a)(D,2),O=j[0],T=j[1],A=function(e,t,a){n(e,t,a)},R=function(){h(!C)},L=function(){T(!0)},I=function(){T(!1)},M=function(){c(t.id,"comment"),T(void 0)},x=function(e,t){S(!1),i(e,t)};return void 0===t.replies[0]&&!1===C?m.a.createElement("div",{className:"comment-container"},m.a.createElement(E,{vote:u,setVote:g,updateScore:A,id:t.id,type:"comment",voted:t.voted}),m.a.createElement("div",{className:"content"},m.a.createElement(d,{replying:C,setReplying:R,commentData:t,deleteComment:L,editing:k,setEditing:S}),O&&m.a.createElement("div",{id:"cache",onClick:I},m.a.createElement("div",{className:"delete-modal"},m.a.createElement("h2",null,"Delete comment"),m.a.createElement("p",null,"Are you sure you want to delete this comment ? This will remove the comment and can't be undone."),m.a.createElement("div",null,m.a.createElement("button",{onClick:I},"NO, CANCEL"),m.a.createElement("button",{className:"delete-btn",onClick:M},"YES, DELETE")))),m.a.createElement(p,{commentData:t,editing:k,setEditing:S,editComment:x}))):void 0===t.replies[0]&&!0===C?m.a.createElement("div",{className:"comment-w-replies"},m.a.createElement("div",{className:"comment-container"},m.a.createElement(E,{vote:u,setVote:g,updateScore:A,id:t.id,type:"comment",voted:t.voted}),m.a.createElement("div",{className:"content"},m.a.createElement(d,{replying:C,setReplying:R,commentData:t,deleteComment:L,editing:k,setEditing:S}),O&&m.a.createElement("div",{id:"cache",onClick:I},m.a.createElement("div",{className:"delete-modal"},m.a.createElement("h2",null,"Delete comment"),m.a.createElement("p",null,"Are you sure you want to delete this comment ? This will remove the comment and can't be undone."),m.a.createElement("div",null,m.a.createElement("button",{onClick:I},"NO, CANCEL"),m.a.createElement("button",{className:"delete-btn",onClick:M},"YES, DELETE")))),m.a.createElement(p,{commentData:t,editing:k,setEditing:S,editComment:x}))),m.a.createElement(v,{addComment:o,replyingTo:t.user.username,setReplying:R})):void 0!==t.replies[0]&&!1===C?m.a.createElement("div",{className:"comment-w-replies"},m.a.createElement("div",{className:"comment-container"},m.a.createElement(E,{vote:u,setVote:g,updateScore:A,id:t.id,type:"comment",voted:t.voted}),m.a.createElement("div",{className:"content"},m.a.createElement(d,{replying:C,setReplying:R,commentData:t,deleteComment:L,editing:k,setEditing:S}),O&&m.a.createElement("div",{id:"cache",onClick:I},m.a.createElement("div",{className:"delete-modal"},m.a.createElement("h2",null,"Delete comment"),m.a.createElement("p",null,"Are you sure you want to delete this comment ? This will remove the comment and can't be undone."),m.a.createElement("div",null,m.a.createElement("button",{onClick:I},"NO, CANCEL"),m.a.createElement("button",{className:"delete-btn",onClick:M},"YES, DELETE")))),m.a.createElement(p,{commentData:t,editing:k,setEditing:S,editComment:x}))),m.a.createElement(b,{commentData:t.replies,updateScore:A,addComment:o,deleteComment:c,editComment:x})):m.a.createElement("div",{className:"comment-w-replies"},m.a.createElement("div",{className:"comment-container"},m.a.createElement(E,{vote:u,setVote:g,updateScore:A,id:t.id,type:"comment",voted:t.voted}),m.a.createElement("div",{className:"content"},m.a.createElement(d,{replying:C,setReplying:R,commentData:t,deleteComment:L,editing:k,setEditing:S}),O&&m.a.createElement("div",{id:"cache",onClick:I},m.a.createElement("div",{className:"delete-modal"},m.a.createElement("h2",null,"Delete comment"),m.a.createElement("p",null,"Are you sure you want to delete this comment ? This will remove the comment and can't be undone."),m.a.createElement("div",null,m.a.createElement("button",{onClick:I},"NO, CANCEL"),m.a.createElement("button",{className:"delete-btn",onClick:M},"YES, DELETE")))),m.a.createElement(p,{commentData:t,editing:k,setEditing:S,editComment:x}))),m.a.createElement(v,{addComment:o,replyingTo:t.user.username,setReplying:R}),m.a.createElement(b,{commentData:t.replies,updateScore:A,addComment:o,deleteComment:c,editComment:x}))},f=function(){var e=Object(a.useState)(function(){var e=localStorage.getItem("comments");return JSON.parse(e)||r.comments}),t=Object(l.a)(e,2),n=t[0],o=t[1];Object(a.useEffect)(function(){localStorage.setItem("comments",JSON.stringify(n))},[n]);var c=function(e){var t=Object(i.a)(n);void 0===e.user&&(e.user=r.currentUser),void 0===e.replyingTo?t.push(e):t.forEach(function(t){t.user.username===e.replyingTo?t.replies.push(e):t.replies.forEach(function(n){n.user.username===e.replyingTo&&t.replies.push(e)})}),o(t)},s=function(e,t,a){var m=Object(i.a)(n);m.forEach(function(n){"comment"===a?n.id===t&&(e-n.score===-1&&!0===n.voted.plus?n.voted.plus=!1:e-n.score===1&&!0===n.voted.minus?n.voted.minus=!1:e-n.score===1&&!1===n.voted.minus&&!1===n.voted.plus?(n.voted.plus=!0,n.voted.minus=!1):e-n.score===-1&&!1===n.voted.minus&&!1===n.voted.plus?(n.voted.plus=!1,n.voted.minus=!0):e-n.score===2?(n.voted.plus=!0,n.voted.minus=!1):e-n.score===-2&&(n.voted.plus=!1,n.voted.minus=!0),n.score=e):"reply"===a&&n.replies.forEach(function(n){n.id===t&&(e-n.score===-1&&!0===n.voted.plus?n.voted.plus=!1:e-n.score===1&&!0===n.voted.minus?n.voted.minus=!1:e-n.score===1&&!1===n.voted.minus&&!1===n.voted.plus?(n.voted.plus=!0,n.voted.minus=!1):e-n.score===-1&&!1===n.voted.minus&&!1===n.voted.plus?(n.voted.plus=!1,n.voted.minus=!0):e-n.score===2?(n.voted.plus=!0,n.voted.minus=!1):e-n.score===-2&&(n.voted.plus=!1,n.voted.minus=!0),n.score=e)})}),m.sort(function(e,t){return t.score-e.score}),m.forEach(function(e){e.replies.sort(function(e,t){return t.score-e.score})}),o(m)},u=function(e,t){var a=Object(i.a)(n),m=[],c=[];"comment"===t&&a.forEach(function(t){t.id!==e&&m.push(t)}),"reply"===t&&(m=a.filter(function(t){return t.replies.forEach(function(t){t.id!==e&&c.push(t)}),t.replies=c,c=[],t})),o(m)},d=function(e,t){var a=Object(i.a)(n);a.forEach(function(n){n.replies.forEach(function(n){n.id===t&&(n.content=e)}),n.id===t&&(n.content=e)}),o(a)};return m.a.createElement("main",{className:"app"},m.a.createElement("h1",{className:"sr-only"},"Challenge FrontendMentor Comment App"),n.map(function(e){return m.a.createElement(y,{key:e.id,commentData:e,updateScore:s,addComment:c,deleteComment:u,editComment:d})}),m.a.createElement(v,{addComment:c}))};n(15);c.a.createRoot(document.getElementById("root")).render(m.a.createElement(m.a.StrictMode,null,m.a.createElement(f,null)))},2:function(e){e.exports={currentUser:{image:{png:"/images/avatars/image-juliusomo.png",webp:"/images/avatars/image-juliusomo.webp"},username:"juliusomo"},comments:[{id:1,content:"Impressive! Though it seems the drag feature could be improved. But overall it looks incredible. You've nailed the design and the responsiveness at various breakpoints works really well.",createdAt:"2022-07-06",score:12,voted:{plus:!1,minus:!1},user:{image:{png:"/images/avatars/image-amyrobson.png",webp:"/images/avatars/image-amyrobson.webp"},username:"amyrobson"},replies:[]},{id:2,content:"Woah, your project looks awesome! How long have you been coding for? I'm still new, but think I want to dive into React as well soon. Perhaps you can give me an insight on where I can learn React? Thanks!",createdAt:"2022-07-25",score:5,voted:{plus:!1,minus:!1},user:{image:{png:"/images/avatars/image-maxblagun.png",webp:"/images/avatars/image-maxblagun.webp"},username:"maxblagun"},replies:[{id:3,content:"If you're still new, I'd recommend focusing on the fundamentals of HTML, CSS, and JS before considering React. It's very tempting to jump ahead but lay a solid foundation first.",createdAt:"2022-07-31",score:4,voted:{plus:!1,minus:!1},replyingTo:"maxblagun",user:{image:{png:"/images/avatars/image-ramsesmiron.png",webp:"/images/avatars/image-ramsesmiron.webp"},username:"ramsesmiron"}},{id:4,content:"I couldn't agree more with this. Everything moves so fast and it always seems like everyone knows the newest library/ framework. But the fundamentals are what stay constant.",createdAt:"2022-08-06",score:2,voted:{plus:!1,minus:!1},replyingTo:"ramsesmiron",user:{image:{png:"/images/avatars/image-juliusomo.png",webp:"/images/avatars/image-juliusomo.webp"},username:"juliusomo"}}]}]}},6:function(e,t,n){e.exports=n(16)}},[[6,1,2]]]);
//# sourceMappingURL=main.d9e3a24a.chunk.js.map