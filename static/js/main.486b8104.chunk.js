(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,function(e){e.exports={currentUser:{image:{png:"../images/avatars/image-juliusomo.png",webp:"../images/avatars/image-juliusomo.webp"},username:"juliusomo"},comments:[{id:1,content:"Impressive! Though it seems the drag feature could be improved. But overall it looks incredible. You've nailed the design and the responsiveness at various breakpoints works really well.",createdAt:"2022-07-06",score:12,voted:{plus:!1,minus:!1},user:{image:{png:"../images/avatars/image-amyrobson.png",webp:"../images/avatars/image-amyrobson.webp"},username:"amyrobson"},replies:[]},{id:2,content:"Woah, your project looks awesome! How long have you been coding for? I'm still new, but think I want to dive into React as well soon. Perhaps you can give me an insight on where I can learn React? Thanks!",createdAt:"2022-07-25",score:5,voted:{plus:!1,minus:!1},user:{image:{png:"../images/avatars/image-maxblagun.png",webp:"../images/avatars/image-maxblagun.webp"},username:"maxblagun"},replies:[{id:3,content:"If you're still new, I'd recommend focusing on the fundamentals of HTML, CSS, and JS before considering React. It's very tempting to jump ahead but lay a solid foundation first.",createdAt:"2022-07-31",score:4,voted:{plus:!1,minus:!1},replyingTo:"maxblagun",user:{image:{png:"../images/avatars/image-ramsesmiron.png",webp:"../images/avatars/image-ramsesmiron.webp"},username:"ramsesmiron"}},{id:4,content:"I couldn't agree more with this. Everything moves so fast and it always seems like everyone knows the newest library/ framework. But the fundamentals are what stay constant.",createdAt:"2022-08-06",score:2,voted:{plus:!1,minus:!1},replyingTo:"ramsesmiron",user:{image:{png:"/images/avatars/image-juliusomo.png",webp:"../images/avatars/image-juliusomo.webp"},username:"juliusomo"}}]}]}},,,,function(e,t,n){e.exports=n.p+"static/media/icon-delete.d44a925a.svg"},function(e,t,n){e.exports=n.p+"static/media/icon-reply.cb6fbfc8.svg"},function(e,t,n){e.exports=n.p+"static/media/icon-edit.88e96924.svg"},function(e,t,n){e.exports=n.p+"static/media/icon-plus.2736214f.svg"},function(e,t,n){e.exports=n.p+"static/media/icon-minus.c420fc92.svg"},function(e,t,n){e.exports=n(21)},,,,,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),m=n(5),c=n.n(m),i=n(3),r=n(1),l=n(2),s=n(6),u=n.n(s),d=n(7),p=n.n(d),E=n(8),v=n.n(E),g=function(e){var t=e.user,n=e.replying,a=e.setReplying,m=e.deleteComment,c=e.editing,i=e.setEditing;return"juliusomo"===t?o.a.createElement("div",{className:"comment-buttons"},o.a.createElement("button",{className:"delete",onClick:function(){m()}},o.a.createElement("img",{src:u.a,alt:"Delete icon"}),"Delete"),o.a.createElement("button",{className:c?"clicked":"",onClick:function(){i(!c)}},o.a.createElement("img",{src:v.a,alt:"Edit icon"}),"Edit")):o.a.createElement("div",{className:"comment-buttons"},o.a.createElement("button",{className:n?"clicked":"",onClick:function(){a()}},o.a.createElement("img",{src:p.a,className:"reply",alt:"Reply icon"}),"Reply"))},f=function(e){var t=new Date(e),n=(new Date-t)/1e3;return n>=60&&n<3600?(n/=60,(n=Math.round(n))>1?n+" mins ago":n+" min ago"):n>=3600&&n<86400?(n/=3600,(n=Math.round(n))>1?n+" hours ago":n+" hour ago"):n>=86400&&n<604800?(n/=86400,(n=Math.round(n))>1?n+" days ago":n+" day ago"):n>=604800&&n<2592e3?(n/=604800,(n=Math.round(n))>1?n+" weeks ago":n+" week ago"):n>=2592e3?(n/=2592e3,(n=Math.round(n))>1?n+" months ago":n+" month ago"):(n=Math.round(n))>1?n+" secondes ago":n+" seconde ago"},b=function(e){var t=e.commentData,n=e.replying,a=e.setReplying,m=e.deleteComment,c=e.editing,i=e.setEditing;return"juliusomo"===t.user.username?o.a.createElement("div",{className:"comment-header"},o.a.createElement("div",{className:"comment-info"},o.a.createElement("div",{className:t.user.username}),o.a.createElement("h4",null,t.user.username),o.a.createElement("span",null,"you"),o.a.createElement("p",null,f(t.createdAt))),o.a.createElement(g,{user:t.user.username,replying:n,setReplying:a,deleteComment:m,editing:c,setEditing:i})):o.a.createElement("div",{className:"comment-header"},o.a.createElement("div",{className:"comment-info"},o.a.createElement("div",{className:t.user.username}),o.a.createElement("h4",null,t.user.username),o.a.createElement("p",null,f(t.createdAt))),o.a.createElement(g,{user:t.user.username,replying:n,setReplying:a}))},y=n(9),h=n.n(y),C=n(10),N=n.n(C),w=function(e){var t=e.vote,n=e.setVote,a=e.updateScore,m=e.id,c=e.type,i=e.voted;return o.a.createElement("div",{className:"votes"},o.a.createElement("button",{className:i.plus?"clicked":"",type:"button",onClick:function(){if(i.plus||i.minus){if(i.plus&&!i.minus){var e=t-1;n(e),a(e,m,c)}else if(!i.plus&&i.minus){var o=t+2;n(o),a(o,m,c)}}else{var r=t+1;n(r),a(r,m,c)}}},o.a.createElement("img",{src:h.a,alt:"Plus"})),o.a.createElement("p",null,t),o.a.createElement("button",{className:i.minus?"clicked minus":"minus",type:"button",onClick:function(){if(i.plus||i.minus){if(!i.plus&&i.minus){var e=t+1;n(e),a(e,m,c)}else if(i.plus&&!i.minus){var o=t-2;n(o),a(o,m,c)}}else{var r=t-1;n(r),a(r,m,c)}}},o.a.createElement("img",{src:N.a,alt:"Minus"})))},k=function(e){var t=e.commentData,n=e.editing,m=e.setEditing,c=e.editComment,i=Object(a.useState)(t.content),l=Object(r.a)(i,2),s=l[0],u=l[1];return n?o.a.createElement("div",{className:"edit"},o.a.createElement("textarea",{value:s,onChange:function(e){return u(e.target.value)}}),o.a.createElement("button",{className:"edit-btn",onClick:function(){m(!1),c(s,t.id)}},"UPDATE")):o.a.createElement("p",{className:"comment-footer"},o.a.createElement("span",null,void 0!==t.replyingTo?"@"+t.replyingTo+" ":""),t.content)},S=function(e){var t=e.addComment,n=e.replyingTo,m=e.setReplying,c=Object(a.useState)(n?"@"+n+" ":""),i=Object(r.a)(c,2),s=i[0],u=i[1],d=l.currentUser,p=function(){if(""!==s&&" "!==s)if(s!=="@"+n+" "&&s!=="@"+n+"  "){var e={id:Math.random(),createdAt:(new Date).toString(),content:s.replace(n?"@"+n+" ":"",""),score:0,voted:{plus:!1,minus:!1},user:d,replyingTo:n,replies:[]};t(e),u(""),void 0!==m&&m()}else m()};return o.a.createElement("div",{className:"add-comment comment-container"},o.a.createElement("div",{className:d.username}),o.a.createElement("textarea",{name:"Add-Comment",placeholder:"Add a comment...",value:s,onChange:function(e){return u(e.target.value)}}),n?o.a.createElement("button",{className:"reply-btn",type:"button",onClick:p},"REPLY"):o.a.createElement("button",{type:"button",onClick:p},"SEND"))},j=function(e){var t=e.commentData,n=e.id,m=e.updateScore,c=e.addComment,i=e.deleteComment,l=e.editComment,s=e.enter,u=Object(a.useState)(t.score),d=Object(r.a)(u,2),p=d[0],E=d[1],v=Object(a.useState)(!1),g=Object(r.a)(v,2),f=g[0],y=g[1],h=Object(a.useState)(!1),C=Object(r.a)(h,2),N=C[0],j=C[1],D=Object(a.useState)(!1),O=Object(r.a)(D,2),T=O[0],A=O[1],R=function(e,t,n){m(e,t,n)},L=function(){y(!f)},x=function(){A(!0)},I=function(){A(!1)},M=function(){i(n,"reply")};return!1===f?o.a.createElement("div",{className:s?"comment-container comment-charge":"comment-container"},o.a.createElement(w,{vote:p,setVote:E,updateScore:R,id:n,type:"reply",voted:t.voted}),o.a.createElement("div",{className:"content"},o.a.createElement(b,{replying:f,setReplying:L,commentData:t,deleteComment:x,editing:N,setEditing:j}),T&&o.a.createElement("div",{id:"cache",onClick:I},o.a.createElement("div",{className:"delete-modal"},o.a.createElement("h2",null,"Delete comment"),o.a.createElement("p",null,"Are you sure you want to delete this comment ? This will remove the comment and can't be undone."),o.a.createElement("div",null,o.a.createElement("button",{onClick:I},"NO, CANCEL"),o.a.createElement("button",{className:"delete-btn",onClick:M},"YES, DELETE")))),o.a.createElement(k,{commentData:t,editing:N,setEditing:j,editComment:l}))):o.a.createElement("div",{className:"comment-w-replies"},o.a.createElement("div",{className:s?"comment-container comment-charge":"comment-container"},o.a.createElement(w,{vote:p,setVote:E,updateScore:R,id:n,type:"reply",voted:t.voted}),o.a.createElement("div",{className:"content"},o.a.createElement(b,{replying:f,setReplying:L,commentData:t,deleteComment:x,editing:N,setEditing:j}),T&&o.a.createElement("div",{id:"cache",onClick:I},o.a.createElement("div",{className:"delete-modal"},o.a.createElement("h2",null,"Delete comment"),o.a.createElement("p",null,"Are you sure you want to delete this comment ? This will remove the comment and can't be undone."),o.a.createElement("div",null,o.a.createElement("button",{onClick:I},"NO, CANCEL"),o.a.createElement("button",{className:"delete-btn",onClick:M},"YES, DELETE")))),o.a.createElement(k,{commentData:t,editing:N,setEditing:j,editComment:l}))),o.a.createElement(S,{addComment:c,replyingTo:t.user.username,setReplying:function(){y(!f)}}))},D=function(e){var t=e.commentData,n=e.updateScore,a=e.addComment,m=e.deleteComment,c=e.editComment,i=e.enter,r=function(e,t,a){n(e,t,a)};return o.a.createElement("div",{className:i?"comment-charge reply-container":"reply-container"},t.map(function(e){return o.a.createElement(j,{key:e.id,commentData:e,id:e.id,updateScore:r,addComment:a,deleteComment:m,editComment:c,enter:i})}))},O=function(e){var t=e.commentData,n=e.updateScore,m=e.addComment,c=e.deleteComment,i=e.editComment,l=Object(a.useState)(t.score),s=Object(r.a)(l,2),u=s[0],d=s[1],p=Object(a.useState)(!1),E=Object(r.a)(p,2),v=E[0],g=E[1],f=Object(a.useState)(!1),y=Object(r.a)(f,2),h=y[0],C=y[1],N=Object(a.useState)(!1),j=Object(r.a)(N,2),O=j[0],T=j[1],A=Object(a.useState)(!0),R=Object(r.a)(A,2),L=R[0],x=R[1];Object(a.useEffect)(function(){setTimeout(I,800)});var I=function(){x(!1)},M=function(e,t,a){n(e,t,a)},Y=function(){g(!v)},V=function(){T(!0)},J=function(){T(!1)},P=function(){c(t.id,"comment"),T(void 0)},U=function(e,t){C(!1),i(e,t)};return void 0===t.replies[0]&&!1===v?o.a.createElement("div",{className:L?"comment-container comment-charge":"comment-container"},o.a.createElement(w,{vote:u,setVote:d,updateScore:M,id:t.id,type:"comment",voted:t.voted}),o.a.createElement("div",{className:"content"},o.a.createElement(b,{replying:v,setReplying:Y,commentData:t,deleteComment:V,editing:h,setEditing:C}),O&&o.a.createElement("div",{id:"cache",onClick:J},o.a.createElement("div",{className:"delete-modal"},o.a.createElement("h2",null,"Delete comment"),o.a.createElement("p",null,"Are you sure you want to delete this comment ? This will remove the comment and can't be undone."),o.a.createElement("div",null,o.a.createElement("button",{onClick:J},"NO, CANCEL"),o.a.createElement("button",{className:"delete-btn",onClick:P},"YES, DELETE")))),o.a.createElement(k,{commentData:t,editing:h,setEditing:C,editComment:U}))):void 0===t.replies[0]&&!0===v?o.a.createElement("div",{className:"comment-w-replies"},o.a.createElement("div",{className:L?"comment-container comment-charge":"comment-container"},o.a.createElement(w,{vote:u,setVote:d,updateScore:M,id:t.id,type:"comment",voted:t.voted}),o.a.createElement("div",{className:"content"},o.a.createElement(b,{replying:v,setReplying:Y,commentData:t,deleteComment:V,editing:h,setEditing:C}),O&&o.a.createElement("div",{id:"cache",onClick:J},o.a.createElement("div",{className:"delete-modal"},o.a.createElement("h2",null,"Delete comment"),o.a.createElement("p",null,"Are you sure you want to delete this comment ? This will remove the comment and can't be undone."),o.a.createElement("div",null,o.a.createElement("button",{onClick:J},"NO, CANCEL"),o.a.createElement("button",{className:"delete-btn",onClick:P},"YES, DELETE")))),o.a.createElement(k,{commentData:t,editing:h,setEditing:C,editComment:U}))),o.a.createElement(S,{addComment:m,replyingTo:t.user.username,setReplying:Y})):void 0!==t.replies[0]&&!1===v?o.a.createElement("div",{className:"comment-w-replies"},o.a.createElement("div",{className:L?"comment-container comment-charge":"comment-container"},o.a.createElement(w,{vote:u,setVote:d,updateScore:M,id:t.id,type:"comment",voted:t.voted}),o.a.createElement("div",{className:"content"},o.a.createElement(b,{replying:v,setReplying:Y,commentData:t,deleteComment:V,editing:h,setEditing:C}),O&&o.a.createElement("div",{id:"cache",onClick:J},o.a.createElement("div",{className:"delete-modal"},o.a.createElement("h2",null,"Delete comment"),o.a.createElement("p",null,"Are you sure you want to delete this comment ? This will remove the comment and can't be undone."),o.a.createElement("div",null,o.a.createElement("button",{onClick:J},"NO, CANCEL"),o.a.createElement("button",{className:"delete-btn",onClick:P},"YES, DELETE")))),o.a.createElement(k,{commentData:t,editing:h,setEditing:C,editComment:U}))),o.a.createElement(D,{commentData:t.replies,updateScore:M,addComment:m,deleteComment:c,editComment:U,enter:L})):o.a.createElement("div",{className:"comment-w-replies"},o.a.createElement("div",{className:L?"comment-container comment-charge":"comment-container"},o.a.createElement(w,{vote:u,setVote:d,updateScore:M,id:t.id,type:"comment",voted:t.voted}),o.a.createElement("div",{className:"content"},o.a.createElement(b,{replying:v,setReplying:Y,commentData:t,deleteComment:V,editing:h,setEditing:C}),O&&o.a.createElement("div",{id:"cache",onClick:J},o.a.createElement("div",{className:"delete-modal"},o.a.createElement("h2",null,"Delete comment"),o.a.createElement("p",null,"Are you sure you want to delete this comment ? This will remove the comment and can't be undone."),o.a.createElement("div",null,o.a.createElement("button",{onClick:J},"NO, CANCEL"),o.a.createElement("button",{className:"delete-btn",onClick:P},"YES, DELETE")))),o.a.createElement(k,{commentData:t,editing:h,setEditing:C,editComment:U}))),o.a.createElement(S,{addComment:m,replyingTo:t.user.username,setReplying:Y}),o.a.createElement(D,{commentData:t.replies,updateScore:M,addComment:m,deleteComment:c,editComment:U,enter:L}))},T=function(){var e=Object(a.useState)(function(){var e=localStorage.getItem("comments");return JSON.parse(e)||l.comments}),t=Object(r.a)(e,2),n=t[0],m=t[1];Object(a.useEffect)(function(){localStorage.setItem("comments",JSON.stringify(n))},[n]);var c=function(e){var t=Object(i.a)(n);void 0===e.user&&(e.user=l.currentUser),void 0===e.replyingTo?t.push(e):t.forEach(function(t){t.user.username===e.replyingTo?t.replies.push(e):t.replies.forEach(function(n){n.user.username===e.replyingTo&&t.replies.push(e)})}),m(t)},s=function(e,t,a){var o=Object(i.a)(n);o.forEach(function(n){"comment"===a?n.id===t&&(e-n.score===-1&&!0===n.voted.plus?n.voted.plus=!1:e-n.score===1&&!0===n.voted.minus?n.voted.minus=!1:e-n.score===1&&!1===n.voted.minus&&!1===n.voted.plus?(n.voted.plus=!0,n.voted.minus=!1):e-n.score===-1&&!1===n.voted.minus&&!1===n.voted.plus?(n.voted.plus=!1,n.voted.minus=!0):e-n.score===2?(n.voted.plus=!0,n.voted.minus=!1):e-n.score===-2&&(n.voted.plus=!1,n.voted.minus=!0),n.score=e):"reply"===a&&n.replies.forEach(function(n){n.id===t&&(e-n.score===-1&&!0===n.voted.plus?n.voted.plus=!1:e-n.score===1&&!0===n.voted.minus?n.voted.minus=!1:e-n.score===1&&!1===n.voted.minus&&!1===n.voted.plus?(n.voted.plus=!0,n.voted.minus=!1):e-n.score===-1&&!1===n.voted.minus&&!1===n.voted.plus?(n.voted.plus=!1,n.voted.minus=!0):e-n.score===2?(n.voted.plus=!0,n.voted.minus=!1):e-n.score===-2&&(n.voted.plus=!1,n.voted.minus=!0),n.score=e)})}),o.sort(function(e,t){return t.score-e.score}),o.forEach(function(e){e.replies.sort(function(e,t){return t.score-e.score})}),m(o)},u=function(e,t){var a=Object(i.a)(n),o=[],c=[];"comment"===t&&a.forEach(function(t){t.id!==e&&o.push(t)}),"reply"===t&&(o=a.filter(function(t){return t.replies.forEach(function(t){t.id!==e&&c.push(t)}),t.replies=c,c=[],t})),m(o)},d=function(e,t){var a=Object(i.a)(n);a.forEach(function(n){n.replies.forEach(function(n){n.id===t&&(n.content=e)}),n.id===t&&(n.content=e)}),m(a)};return o.a.createElement("main",{className:"app"},o.a.createElement("h1",{className:"sr-only"},"Challenge FrontendMentor Comment App"),o.a.createElement("div",{className:"overlay"},o.a.createElement("div",{className:"overlay__row"}),o.a.createElement("div",{className:"overlay__row"})),n.map(function(e){return o.a.createElement(O,{key:e.id,commentData:e,updateScore:s,addComment:c,deleteComment:u,editComment:d})}),o.a.createElement(S,{addComment:c}))};n(20);c.a.createRoot(document.getElementById("root")).render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(T,null)))}],[[11,1,2]]]);
//# sourceMappingURL=main.486b8104.chunk.js.map